import { Callout, FileTree } from "nextra/components";

# 🛡 ESLintプラグイン

## 新しいESLintプラグインの追加

このドキュメントでは、[yeoman](https://yeoman.io/) CLIツールを使ってプロジェクトにESLintプラグインを新しく追加する方法について説明します。

<Callout type="info">
  yeoman CLIツールを使ったESLintプラグインの作成方法は[公式ドキュメント](https://github.com/eslint/generator-eslint)で確認できます。
</Callout>

### (0) Yeoman CLIのインストール

Yeoman CLIツールを使ってESLintプラグインを生成するには、まずYeoman CLIとESLintテンプレートをインストールする必要があります。

#### 1) Yeoman CLIのインストール

Yeoman CLIツールをインストールするには、次のコマンドを実行します。このコマンドはグローバルにYeomanをインストールします。

```bash
npm i -g yo
```

#### 2) Yeoman ESLintプラグインテンプレートのインストール

Yeoman ESLintプラグインテンプレートをインストールするには、次のコマンドを実行します。このコマンドはYeoman ESLintプラグインテンプレートをグローバルにインストールします。

```bash
npm i -g generator-eslint
```

### (1) 新しいESLintプラグインパッケージの作成

#### 1) 新しいESLintプラグインパッケージディレクトリの作成

新しいESLintプラグインパッケージを追加するため、まずプロジェクトのルートディレクトリでESLintプラグインパッケージのディレクトリを作成します。

```bash
# プロジェクトのルートディレクトリで実行
cd path/to/your/repository/root

# ESLintプラグインパッケージディレクトリの作成
mkdir packages/eslint-plugin-sample
```

#### 2) Yeoman CLIでESLintプラグインテンプレートをスキャフォールディング

作成したESLintプラグインパッケージディレクトリに移動し、Yeomanを使ってESLintプラグインテンプレートを生成します。

```bash
# ESLintプラグインパッケージディレクトリに移動
cd packages/eslint-plugin-sample

# Yeomanを使ってESLintプラグインテンプレートをスキャフォールディング
yo eslint:plugin
```

![creating-eslint-plugin-with-yeoman](/assets/images/packages/eslint-plugin-sample/img-1.png)

### (2) ESLintプラグインにルールを追加

#### 1) Yeoman CLIでESLintルールテンプレートをスキャフォールディング

新しいESLintルールを追加するには、ESLintプラグインパッケージディレクトリで`yo eslint:rule`コマンドを実行します。

```bash
# ESLintプラグインパッケージディレクトリに移動
cd packages/eslint-plugin-sample

# Yeomanを使ってESLintルールテンプレートをスキャフォールディング
yo eslint:rule
```

![creating-eslint-rule-with-yeoman](/assets/images/packages/add-new-package/img-1.png)

### (3) 実行結果

ここまでの手順で生成されたESLintプラグインパッケージのディレクトリ構成は次のようになります：

<FileTree>
  <FileTree.File name="package.json" />
  <FileTree.File name="README.md" />
  <FileTree.File name="eslint.config.mjs" />
  <FileTree.Folder name="docs" defaultOpen>
    <FileTree.Folder name="rules" defaultOpen>
      <FileTree.File name="rule-name.md" />
    </FileTree.Folder>
  </FileTree.Folder>
  <FileTree.Folder name="lib" defaultOpen>
    <FileTree.Folder name="rules" defaultOpen>
      <FileTree.File name="rule-name.js" />
    </FileTree.Folder>
  </FileTree.Folder>
  <FileTree.Folder name="tests" defaultOpen>
    <FileTree.Folder name="lib" defaultOpen>
      <FileTree.Folder name="rules" defaultOpen>
        <FileTree.File name="rule-name.js" />
      </FileTree.Folder>
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>
