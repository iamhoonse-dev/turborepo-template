import { Callout } from "nextra/components";
import LocalizedLink from "../../../components/LocalizedLink";

# 🎭 Playwright Runner

`tools/playwright-web` 패키지는 프로젝트의 E2E(End-to-End) 테스트를 Playwright 기반으로 자동화하기 위한 환경과 스크립트를 제공합니다.

## 🎯 주요 목적

- 실제 브라우저 환경에서 사용자의 행동을 시뮬레이션하여 주요 플로우와 기능을 검증합니다.
- CI 환경(GitHub Actions 등)에서 자동으로 실행되어, 배포 전 서비스의 품질을 보장합니다.

## 📁 주요 구성

- **🧪 테스트 스크립트**:\
  `tests/` 디렉토리 내에 Playwright 테스트 파일(`*.spec.ts`)이 위치합니다.
- **⚙️ Playwright 설정**:\
  `playwright.config.ts` 파일에서 브라우저, 테스트 환경, 리포트 포맷(junit 등) 등을 설정합니다.
- **▶️ 실행 스크립트**:\
  `package.json`의 `test:e2e` 스크립트로 Playwright 테스트를 실행할 수 있습니다.
- **🐳 Dockerfile**:\
  CI 환경에서 테스트를 실행하기 위한 Docker 이미지가 정의되어 있습니다.

## 🧑‍💻️ 사용 방법

### 💻 로컬에서 실행

```bash
pnpm --filter tools/playwright-web test:e2e
```

또는

```bash
cd tools/playwright-web
pnpm test:e2e
```

### 🤖 CI 환경에서 실행

- `.github/workflows/test.yml`의 `e2e-web` 잡에서 도커 컨테이너로 자동 실행됩니다.
- 테스트 결과는 JUnit XML 등으로 저장되어 GitHub Actions 아티팩트로 업로드됩니다.

<Callout type="info">
  CI 환경에서의 실행에 대한 자세한 내용은
  <LocalizedLink href="/testing/e2e-test">`테스팅 > End-to-End 테스트`</LocalizedLink> 문서를 참고하세요.
</Callout>

## 📊 테스트 결과

- 테스트 성공/실패 여부와 상세 리포트는 `test-results/junit.xml` 파일로 확인할 수 있습니다.
- CI에서 실행된 경우, GitHub Actions의 Artifacts에서 결과 파일을 다운로드할 수 있습니다.

## 📌 참고

- Playwright 공식 문서: [https://playwright.dev/](https://playwright.dev/)
- 테스트 작성 예시는 `tests/` 디렉토리를 참고하세요.
