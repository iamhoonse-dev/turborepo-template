import { Callout } from "nextra/components";
import LocalizedLink from "../../../components/LocalizedLink";

# 🗼 Lighthouse CI

`tools/lighthouse-ci` 패키지는 프로젝트의 웹 페이지 품질(성능, 접근성, SEO 등)을 Lighthouse 기반으로 자동 분석하기 위한 환경과 스크립트를 제공합니다.

## 🎯 주요 목적

- 웹 페이지의 성능, 접근성, SEO, 베스트 프랙티스 등을 자동으로 분석합니다.
- CI 환경(GitHub Actions 등)에서 자동으로 실행되어, 배포 전 서비스의 품질을 수치로 검증합니다.

## 📁 주요 구성

- **⚙️ Lighthouse 설정**:\
  Lighthouse CI의 실행 옵션 및 환경설정이 포함되어 있습니다.
- **▶️ 실행 스크립트**:\
  `package.json`의 `test:lighthouse` 스크립트로 Lighthouse 분석을 실행할 수 있습니다.
- **🐳 Dockerfile**:\
  CI 환경에서 분석을 실행하기 위한 Docker 이미지가 정의되어 있습니다.

## 🧑‍💻️ 사용 방법

### 💻 로컬에서 실행

```bash
pnpm --filter tools/lighthouse-ci test:lighthouse
```

또는

```bash
cd tools/lighthouse-ci
pnpm test:lighthouse
```

### 🤖 CI 환경에서 실행

- `.github/workflows/test.yml`의 `lighthouse-test` 잡에서 도커 컨테이너로 자동 실행됩니다.
- 분석 결과 리포트는 HTML, JSON 등 다양한 형식으로 생성되어 Temporary Public Storage 등에 업로드됩니다.

<Callout type="info">
  CI 환경에서의 실행에 대한 자세한 내용은
  <LocalizedLink href="/testing/lighthouse-test">`테스팅 > Lighthouse 테스트`</LocalizedLink> 문서를 참고하세요.
</Callout>

## 📊 분석 결과

- 분석 결과 리포트는 HTML, JSON 등 다양한 형식으로 생성되며, 주요 품질 지표(성능, 접근성, SEO 등)를 수치로 확인할 수 있습니다.
- CI 에서 실행된 경우, 리포트는 Temporary Public Storage 등에 업로드되어 다운로드 및 공유가 가능합니다.

## 📌 참고

- Lighthouse 공식 문서: [https://github.com/GoogleChrome/lighthouse-ci](https://github.com/GoogleChrome/lighthouse-ci)
- 분석 대상 및 설정 예시는 `lighthouserc.cjs` 파일을 참고하세요.

