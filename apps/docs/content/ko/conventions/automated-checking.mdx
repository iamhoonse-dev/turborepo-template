import { Callout } from "nextra/components";

# ğŸ¤– ìë™í™”ëœ ê·œì•½ ê²€ì‚¬ í™˜ê²½

ì´ í”„ë¡œì íŠ¸ëŠ” [husky](https://typicode.github.io/husky/#/)ë¥¼ ì‚¬ìš©í•˜ì—¬ Git Hookì„ ì„¤ì •í•˜ê³ , ì»¤ë°‹ ì „ì— ì½”ë“œ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ê²€ì‚¬í•˜ëŠ” í™˜ê²½ì„ êµ¬ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì´ í™˜ê²½ì€ ì½”ë“œ ì‘ì„± ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ë¥¼ ì‚¬ì „ì— ë°©ì§€í•˜ê³ , ì¼ê´€ëœ ì½”ë“œ ìŠ¤íƒ€ì¼ì„ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.

## â¬‡ï¸ ì„¤ì¹˜ ë° ì„¤ì •

ë£¨íŠ¸ `package.json` íŒŒì¼ì— ì •ì˜ëœ `prepare` ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ huskyë¥¼ ì„¤ì¹˜í•˜ê³  ì´ˆê¸°í™”í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì¦‰, ë¡œì»¬ í™˜ê²½ì—ì„œ `pnpm install` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ huskyê°€ ì„¤ì¹˜ë˜ê³ , Git Hookì´ ì„¤ì •ë©ë‹ˆë‹¤.

```json filename="package.json" {3}
{
  "scripts": {
    "prepare": "husky install"
  }
}
```

## âš“ï¸ Git Hook

ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ `.husky` í´ë”ì— Git Hook ìŠ¤í¬ë¦½íŠ¸ë“¤ì´ ìœ„ì¹˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### `pre-commit`

`pre-commit` í›…ì€ ì»¤ë°‹ ì „ì— ì‹¤í–‰ë˜ë©°, ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

- **Linting**: `eslint`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ìŠ¤íƒ€ì¼ê³¼ í’ˆì§ˆì„ ê²€ì‚¬í•©ë‹ˆë‹¤.
- **Formatting**: `prettier`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ í¬ë§·íŒ…ì„ ì ìš©í•©ë‹ˆë‹¤.
- **Type Checking**: `tsc --noEmit` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ TypeScript íƒ€ì… ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

<Callout type="info">
  `pre-commit` í›…ì—ì„œ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ë“¤ì€ ëª¨ë‘ Turbo task ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
  ì¦‰, ì´ í›…ì€ Turboì˜ ìºì‹± ë° ë³‘ë ¬ ì‹¤í–‰ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
</Callout>

```bash filename=".husky/pre-commit" {3-5}
echo "ğŸ” commit ì´ì „ì— lint ê·œì¹™ì„ ì ìš©í•©ë‹ˆë‹¤..."
if (
  pnpm run lint &&
  pnpm run format:check &&
  pnpm run check-types
); then
  echo "âœ… ëª¨ë“  lint ê·œì¹™ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤."
  exit 0
else
  echo "âŒ lint ê·œì¹™ ê²€ì‚¬ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
  exit 1
fi
```

### `commit-msg`

`commit-msg` í›…ì€ `commitlint` CLI ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ë°‹ ë©”ì‹œì§€ê°€ ê·œì•½ì— ë§ëŠ”ì§€ ê²€ì‚¬í•©ë‹ˆë‹¤.
ê²€ì‚¬ ê²°ê³¼ ê·œì•½ì— ë§ì§€ ì•ŠëŠ” ê²½ìš°, ì»¤ë°‹ì´ ê±°ë¶€ë©ë‹ˆë‹¤.

```bash filename=".husky/commit-msg" {6}
COMMIT_MESSAGE_FILE=$1
COMMIT_MESSAGE=$(cat "$COMMIT_MESSAGE_FILE")

echo "â¤ï¸â€ğŸ©¹ Commit Message: $COMMIT_MESSAGE"

npx commitlint --edit $1

if [ $? -eq 0 ]; then
  echo "ğŸ”† Commit message meets the convention ğŸ”†"
  exit 0
else
  echo "âŒ Commit message does not meet the convention âŒ"
  exit 1
fi
```