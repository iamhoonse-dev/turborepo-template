import { Callout } from "nextra/components";
import LocalizedLink from "../../../components/LocalizedLink";

# ğŸ¦‹ ë²„ì €ë‹ ë° ë°°í¬

ì´ í”„ë¡œì íŠ¸ëŠ” [Changesets](https://github.com/changesets/changesets)ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ ë²„ì „ ê´€ë¦¬ì™€ ë°°í¬ë¥¼ ê°„ì†Œí™”í•˜ê³  ìˆì–´ìš”.
ChangesetsëŠ” ëª¨ë…¸ë ˆí¬ í™˜ê²½ì—ì„œ íŠ¹íˆ ìœ ìš©í•˜ë©°, ê° íŒ¨í‚¤ì§€ì˜ ë³€ê²½ ì‚¬í•­ì„ ì¶”ì í•˜ê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë²„ì „ì„ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤˜ìš”.

ì´ ë¬¸ì„œì—ì„œëŠ” ì´ í”„ë¡œì íŠ¸ì—ì„œ `pnpm`ê³¼ `Changesets`ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ì˜ ë²„ì „ì„ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ê³  ë°°í¬í•˜ë„ë¡ ì„¤ì •í•´ ë‘ì—ˆëŠ”ì§€ì— ëŒ€í•´ ì„¤ëª…í• ê²Œìš”.

## ğŸ› ï¸ ì‚¬ì „ ì¤€ë¹„

ì´ í”„ë¡œì íŠ¸ì—ì„œ `Changesets`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ëª‡ ê°€ì§€ ì‚¬ì „ ì¤€ë¹„ê°€ í•„ìš”í•´ìš”. ì•„ë˜ ë‹¨ê³„ë¥¼ ë”°ë¼ ì„¤ì •í•´ ì£¼ì„¸ìš”.

### í•„ìˆ˜

- <LocalizedLink href="/setup/github-apps/changeset-bot">`ì„¤ì • > GitHub Apps > changeset-bot`</LocalizedLink> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ Changesets ë´‡ì„ ì„¤ì •í•´ì•¼ í•´ìš”.
- <LocalizedLink href="/setup/github-actions/gh-actions-permission">`ì„¤ì • > GitHub Actions > ë ˆí¬ì§€í† ë¦¬ ê¶Œí•œ ì„¤ì •`</LocalizedLink> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ GitHub Actions ê¶Œí•œì„ ì„¤ì •í•´ì•¼ í•´ìš”.

### ì„ íƒ

- <LocalizedLink href="/setup/npm">`ì„¤ì • > NPM`</LocalizedLink> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ NPM í† í°ì„ ì„¤ì •í•˜ê³ , ì›Œí¬í”Œë¡œìš° ë‚´ì—ì„œ npm ë°°í¬ë¥¼ ì‹¤í–‰í•˜ë„ë¡ í™œì„±í™”í•´ì•¼ í•´ìš”

## ğŸ”„ ë²„ì €ë‹ ë° ë°°í¬ í”„ë¡œì„¸ìŠ¤

<Callout type="info">
  changeset ê¸°ë°˜ì˜ ë²„ì €ë‹ ë° ë°°í¬ í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•œ ë³´ë‹¤ ìì„¸í•œ ë‚´ìš©ì€ [ê³µì‹ ë¬¸ì„œ](https://github.com/changesets/changesets)ë¥¼ ì°¸ê³ í•´ ì£¼ì„¸ìš”.
</Callout>

### (1) âœï¸ ìƒˆ ë³€ê²½ ì‚¬í•­ ì¶”ê°€

ë¡œì»¬ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë³€ê²½ ì‚¬í•­ì— ëŒ€í•œ ì„¤ëª…ì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ” í”„ë¡¬í”„íŠ¸ê°€ ë‚˜íƒ€ë‚˜ìš”.

```bash
pnpm changeset
```

í”„ë¡¬í”„íŠ¸ë¥¼ ë”°ë¼ ë³€ê²½ ì‚¬í•­ì„ ì‘ì„±í•˜ë©´,

![CLI prompt](/assets/images/packages/versioning-and-publishing/img-1.png)

Changesets ëŠ” ìƒˆ changeset íŒŒì¼ì„ ìƒì„±í•˜ê³ , ì´ë¥¼ ì»¤ë°‹í•´ìš”.

|ì»¤ë°‹|changeset|
|-|-|
|![CLI-created-commit](/assets/images/packages/versioning-and-publishing/img-2.png)|![CLI-created-changeset](/assets/images/packages/versioning-and-publishing/img-2-1.png)|

### (2) ğŸ¦‹ ìƒˆ changeset ì»¤ë°‹ì´ í¬í•¨ëœ PR ìƒì„±

#### 1) ìƒˆ changeset PR ì‘ì„±

ì•ì„œ ë¡œì»¬ì—ì„œ ìƒì„±í•œ ìƒˆ changeset ì¶”ê°€ ì»¤ë°‹ì„ í‘¸ì‹œí•˜ì—¬ PR ì„ ì‘ì„±í•´ì•¼ í•´ìš”.
ê·¸ëŸ¬ë©´ changeset-bot ì´ PR ì— í¬í•¨ëœ ìƒˆ changeset ì»¤ë°‹ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³ ,
PR ì— ì•„ë˜ì™€ ê°™ì´ ëŒ“ê¸€ë¡œ ë³€ê²½ ì‚¬í•­ì„ ìš”ì•½í•´ìš”.

![changeset-bot-reply-to-pr](/assets/images/packages/versioning-and-publishing/img-3.png)

<Callout type="info">
  **changeset í¬í•¨ ì»¤ë°‹ì´ ì—†ëŠ” ê²½ìš°** \
  changeset-bot ì´ changeset ì»¤ë°‹ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œë ¤ì£¼ëŠ” ëŒ“ê¸€ì„ ë‚¨ê²¨ìš”. \
  ![changeset-bot-reply-to-pr-2](/assets/images/packages/versioning-and-publishing/img-3-1.png)
</Callout>

#### 2) ìƒˆ changeset PR ìŠ¹ì¸

ìƒˆ changeset ì„ í¬í•¨í•˜ëŠ” PR ì„ ìŠ¹ì¸í•˜ë©´ changeset-bot ì´ `release` ì›Œí¬í”Œë¡œìš°ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ìš”.

```bash
pnpm changeset version
```

![commits-in-pr](/assets/images/packages/versioning-and-publishing/img-4.png)

ì´ ëª…ë ¹ì–´ëŠ” PR ì— í¬í•¨ëœ ë³€ê²½ ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ íŒ¨í‚¤ì§€ ë²„ì „(`package.json` íŒŒì¼ì˜ `version` í•„ë“œ)ì„ ì—…ë°ì´íŠ¸í•˜ê³ , `CHANGELOG.md` íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì»¤ë°‹ì„ ì¶”ê°€í•´ìš”.

![commits-in-pr](/assets/images/packages/versioning-and-publishing/img-5.png)

#### 3) ìƒˆ changeset ë°˜ì˜ PR ìƒì„±

changeset-bot ì€ ì´ ì»¤ë°‹ì„ ë°”ë¡œ main ë¸Œëœì¹˜ì— ë³‘í•©í•˜ëŠ” ëŒ€ì‹ , ìƒˆ PR ì„ ìƒì„±í•´ì„œ ì‚¬ìš©ìê°€ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•œ í›„ì— ìˆ˜ë™ìœ¼ë¡œ ìŠ¹ì¸í•  ìˆ˜ ìˆë„ë¡ í•˜ê³  ìˆì–´ìš”.

![changeset-bot-create-pr](/assets/images/packages/versioning-and-publishing/img-6.png)

ì•„ë˜ëŠ” changeset-bot ì´ ìƒì„±í•œ PR ì˜ ì˜ˆì‹œì˜ˆìš”.

![pr-created-by-changeset-bot](/assets/images/packages/versioning-and-publishing/img-7.png)

### (3) ğŸ¦‹ ìƒˆ changeset ë°˜ì˜ PR ìŠ¹ì¸

ì• ë‹¨ê³„ì—ì„œ changeset-bot ì´ ìƒì„±í•œ PR ì„ ìŠ¹ì¸í•˜ë©´ `release` ì›Œí¬í”Œë¡œìš°ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ìš”.

```bash
pnpm changeset publish
```

![release-workflow-log](/assets/images/packages/versioning-and-publishing/img-8.png)

ì´ ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ë“¤ì„ ìˆ˜í–‰í•´ìš”:

#### 1) ğŸ“ íŒ¨í‚¤ì§€ë³„ ë²„ì „ ì—…ë°ì´íŠ¸ ë° ì—…ë°ì´íŠ¸ ë…¸íŠ¸ ì‘ì„±

- `package.json` ì— ëª…ì‹œëœ `version` í•„ë“œê°€ ì—…ë°ì´íŠ¸ë˜ê³ ,
- `CHANGELOG.md` íŒŒì¼ ì—…ë°ì´íŠ¸ê°€ ì ìš©ë˜ìš”.

#### 2) ğŸ· Release íƒœê·¸ ìƒì„±

PRì´ ìŠ¹ì¸ë˜ë©´, GitHub Actionsê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ê° íŒ¨í‚¤ì§€ì— ëŒ€í•œ Release íƒœê·¸ë¥¼ ìƒì„±í•´ìš”.

#### 3) ğŸš€ npm ë°°í¬

ì—…ë°ì´íŠ¸ëœ íŒ¨í‚¤ì§€(ë“¤)ì„ npmì— ë°°í¬í•´ìš”. \
ë°°í¬ë¥¼ ìœ„í•´ì„œëŠ” `NPM_TOKEN`ì´ GitHub Secretsì— ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•´ìš”.
